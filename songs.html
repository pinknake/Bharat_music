<!DOCTYPE html>
<html>
<head>
  <title>ðŸŽ¶ All Bharat Songs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="text-align:center; font-family:sans-serif; padding:20px;">

  <h2>ðŸŽ¼ Bharat Music Library</h2>
  <div id="songs">Loading songs...</div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBj0MpUEF_gq2BdW1gTSQd0KCrWukRadK4",
      authDomain: "musicplayer-a6d09.firebaseapp.com",
      databaseURL: "https://musicplayer-a6d09-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "musicplayer-a6d09",
      storageBucket: "musicplayer-a6d09.appspot.com",
      messagingSenderId: "44572704031",
      appId: "1:44572704031:web:693770ba678984eee2c42a"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const songsDiv = document.getElementById("songs");
    const songsRef = ref(db, "songs");

    onValue(songsRef, (snapshot) => {
      const data = snapshot.val();
      if (data) {
        let html = '';
        for (let key in data) {
          html += `
            <div style="border:1px solid #ddd; padding:10px; margin:10px; border-radius:10px;">
              <strong>${data[key].title}</strong><br>
              <audio controls src="${data[key].url}" style="width:100%"></audio>
            </div>
          `;
        }
        songsDiv.innerHTML = html;
      } else {
        songsDiv.innerHTML = "No songs uploaded yet.";
      }
    });
  </script>

</body>
</html>
